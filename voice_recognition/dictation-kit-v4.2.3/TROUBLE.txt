======================================================================

		    うまく認識できないときは

							   2000/06/22
						      更新 2004/05/07
							      李 晃伸
						       ri@is.naist.jp
======================================================================

□ システムが動かない ////////////////////////////////////////////////

認識プログラム Julius が途中でフリーズしたり，segmentation fault が起
こる，あるいはコンパイルに失敗する場合などは，
以下の要領でコンパイルし直してみてください．

  o (Linux+ALSAの場合) ./configure に "--with-mictype=alsa" をつける

      Linux でサウンドドライバに ALSA を使用している場合，上記オプショ
      ンを ./configure につけてコンパイルすることで，ALSA native API
      に対応することができます．ALSAをお使いの方は試してみてください．
      （コードが未完成のためオプションになっています）

  o ./configure に "--enable-pthread" をつける

      音声入力の取り込みに POSIX thread を使用します．
      サウンドバッファのバッファオーバフローが無くなるため，
      動作が安定する場合が多いようです．

      ただし現状では実装が非常にいいかげんなため，
      OSやコンパイラ次第で落ちることもあります．
      改善が見られなければ使用を中止してください．


□ システムは動くが，まともに認識できない ////////////////////////////////

	「衆院議員は，具体的にどう考えているのか」

はかなり入りやすい文章です．これが全く入らない場合などは，システムか環
境に何らかの不具合が考えられます．以下の順にチェックしてみてください．


1) 録音は正しく行われていますか？

    付属のツール "adinrec" で音声をファイルに録音できます．これを使っ
    て録音できているかチェックしてください．

    % adinrec foo.raw

    で喋りはじめから喋り終えるまでをファイル foo.raw に録音します．

    ここで録音に失敗する場合は，デバイスドライバやサウンドチップ，マ
    イクなど，システム側の問題とも考えられます．
    他の録音ツールで録音を試すなどしてください．

    なお，adinrec の出力ファイル形式は .WAV 形式です．


2) 録音の音質は良好ですか？

    本システムの音声認識は，ノイズや音の歪みに非常に敏感です．
    人間の耳にはあまり問題ないレベルのノイズや歪みでも，
    認識性能は格段に落ちてしまいます．

    録音の音質劣化の原因としては，以下のものが挙げられます．

	・背景雑音（ユーザ以外の声・音楽など）
	・マイクの性能
	・サウンドチップの性能
	・サウンドドライバの性能

    それぞれ対処としては，

	・静かなところで行う
	・指向性マイクなど，良いマイクを使う
	・サウンドチップを替えてみる
	・サウンドドライバを替えてみる

    などが挙げられます．

 
    下記の要領で，録音の音質をチェックしてみてください．
   
 2-a) 耳で聞いてみる

	sox の play や ALSA の aplay で，adinrecで録音した WAV ファイルを
	再生してみてください．オーバーフローやノイズが多く現れるようだ
	と認識は難しいです．

	Linux:
	  sox -t .raw -r 16000 -s -w -x -c 1 foo.raw -t ossdsp -s -w /dev/dsp
	Linux/ALSA:
	  aplay -f s16b -r -s 16000 foo.raw
	Solaris2:
	  sox -t .raw -r 16000 -s -w -c 1 foo.raw -t sunau -w -s /dev/audio

 2-b) 目で見てみる

        波形をグラフィカルに表示することで，ノイズが激しく乗っていないか，
	過大音量によるクリッピングが起こっていないか，などを
	目でチェックできます．

	snd という音波形編集ツールが多機能でお奨めです．
	  http://www-ccrma.stanford.edu/CCRMA/Software/snd/snd.html


□ その他の情報 /////////////////////////////////////////////////////

Juliusのホームページに掲示板がありますので，
そちらも助けになるかもしれません．
Juliusのホームページもご参照ください．

	http://julius.sourceforge.jp/

								以上
